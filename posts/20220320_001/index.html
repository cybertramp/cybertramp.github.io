<!DOCTYPE html>
<html><head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link rel="canonical" href="https://cybertramp.net/posts/20220320_001/">

    <title>
        
        Typora 정착 | Cybertramp Blog
        
    </title>

    
    <link href="https://cybertramp.net/css/fontawesome.min.css" rel="stylesheet">

    
    <link rel="stylesheet" href="https://cybertramp.net/css/ace.min.css">

    

    
    
        
    

</head>
<body><nav class="navbar navbar-expand-lg navbar-dark bg-dark shadow sticky-top" id="navbarMain">
    <div class="container-fluid">
        <div>
            <a class="navbar-brand" href="../../">
                
                Cybertramp Blog
            </a>
        </div>
            
            
            
            <div class="collapse navbar-collapse" id="navbarMainCollapse">
                <ul class="navbar-nav mr-auto">
                                <li class="nav-item">
                                    <a class="nav-link" href="https://github.com/cybertramp" >
                                    <i class='fab fa-github'></i>
                                    </a>
                                </li>
                    <li class="nav-item">
                        <a class="nav-link" href="https://cybertramp.net//profile">Profile</a>
                    </li>
                    
                </ul>
                
                
                <div class="navbar-nav">
                    <form class="form-inline my-2 my-lg-0 searchbox">
                        <input class="form-control w-100" data-search-input id="search-by" type="text" placeholder="Search" >
                    </form>       
                </div>
                
            </div>
    </div>
    
</nav>
<div class="container-fluid">
            <div class="row">

                <div class="docs-sidenav order-0 col-12 col-md-3 col-lg-2 col-xl-2 position-sticky border-right">



<div class="mt-2">
  <div>
    <div class="avatar-container">
      <img src="../../img/metamong.gif" alt="Avatar" class="avatar-img" />
      <div class="avatar-name-box">
        <div class="avatar-text">회사에서는<br />Todd</div>
      </div>
    </div>
    <div style="padding-top: 20px; text-align: center">
      <h4>Cybertramp</h4>
      <div>
        <p>아래에서 위로</p>
      </div>
    </div>
  </div>

  <div>
    <ul class="nav flex-column">
      <h5 class="my-0">Categories</h5>
      
      <li class="nav-item menu-items">
        <a href="../../categories/cpp">Cpp (7)</a>
      </li>
      
      <li class="nav-item menu-items">
        <a href="../../categories/daily">Daily (1)</a>
      </li>
      
      <li class="nav-item menu-items">
        <a href="../../categories/golang">Golang (6)</a>
      </li>
      
      <li class="nav-item menu-items">
        <a href="../../categories/installation">Installation (3)</a>
      </li>
      
      <li class="nav-item menu-items">
        <a href="../../categories/interest">Interest (1)</a>
      </li>
      
      <li class="nav-item menu-items">
        <a href="../../categories/linux">Linux (6)</a>
      </li>
      
      <li class="nav-item menu-items">
        <a href="../../categories/node">Node (1)</a>
      </li>
      
      <li class="nav-item menu-items">
        <a href="../../categories/os">Os (1)</a>
      </li>
      
      <li class="nav-item menu-items">
        <a href="../../categories/python3">Python3 (1)</a>
      </li>
      
      <li class="nav-item menu-items">
        <a href="../../categories/vue">Vue (2)</a>
      </li>
      
      <li class="nav-item menu-items">
        <a href="../../categories/windows">Windows (5)</a>
      </li>
      
    </ul>
  </div>
</div>

<style>
.menu-items{
  padding: 4px 0 0 10px;
}
</style></div>
                <div class="docs-toc large order-lg-2 order-md-0 order-xs-1 col-12 col-lg-2 col-xl-2 position-sticky border-left"><div class="docs-toc">
	<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#메뉴에-카테고리-넣기">메뉴에 카테고리 넣기</a></li>
        <li><a href="#typora-적용하기">Typora 적용하기</a></li>
        <li><a href="#느려터진-github-io">느려터진 github io</a></li>
        <li><a href="#git">git</a></li>
        <li><a href="#현재-20220321의-블로그">현재 2022.03.21의 블로그</a></li>
      </ul>
    </li>
  </ul>
</nav>
</div>
</div>
                <div class="main col-12 order-1 col-md-9 col-lg-10 col-xl-8 py-3">
                

<h1>Typora 정착</h1>
<p><u>글을 쓴날: 2022-03-20</u></p>
<p>이번주 평일에 시간되면 작업하려 했던 블로그 작업을 일요일이 되어서야 겨우 마쳤다. 잘 버티다가 오미크론에 걸리게 되어 거의 아무것도 못하게됬다.</p>
<h3 id="메뉴에-카테고리-넣기">메뉴에 카테고리 넣기</h3>
<p>뭐 어찌 어찌 답 없는 hugo의 <a href="https://themes.gohugo.io/themes/hugo-book/">Book | Hugo Themes (gohugo.io)</a> 테마를 뜯어서 커스텀하게 만들었다. hugo는 GoLang의 Template이라는 모듈을 사용해서 문법이 조금 이해 하기 어렵다. 마치 <code>bash</code>를 보는듯했다. 그래도 hugo 문서랑 뒤적 거리면서 문서별 FrontMatter의 Category를 일일이 확인해서 메뉴에 분류되어 표시되게 해두었다.</p>
<p>

    
    <img src="../../img/image-20220321012538713.png" alt='image-20220321012538713' style="width: 100%;"/>


</p>
<p>▲ 내 포스트 글은 markdown으로 작성하고 맨 윗부분에 FrontMatter를 toml 형식으로 달아둔다.</p>
<p>FrontMatter가 달린 글들은 내가 계속 삽질해서 만든 코드를 통해 리스팅이 가능해진다.</p>
<p>

    
    <img src="../../images/20220320_001/image-20220321012829297.png" alt='image-20220321012829297' style="width: 100%;"/>


</p>
<p><strong>[코드]</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span># 리스팅	
</span></span><span style="display:flex;"><span><span style="color:#60a0b0;font-style:italic">&lt;!-- 1번 방법 --&gt;</span>
</span></span><span style="display:flex;"><span>{{range $category := ($.Site.GetPage &#34;categories&#34;).Pages }}
</span></span><span style="display:flex;"><span>&lt;<span style="color:#062873;font-weight:bold">li</span> <span style="color:#4070a0">class</span><span style="color:#666">=</span><span style="color:#4070a0">&#34;nav-item menu-items&#34;</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#062873;font-weight:bold">a</span> <span style="color:#4070a0">href</span><span style="color:#666">=</span><span style="color:#4070a0">&#34;{{.Permalink}}&#34;</span>&gt;{{.Title}} ()&lt;/<span style="color:#062873;font-weight:bold">a</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#062873;font-weight:bold">li</span>&gt;
</span></span><span style="display:flex;"><span>{{end}}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#60a0b0;font-style:italic">&lt;!-- 2번 방법 --&gt;</span>
</span></span><span style="display:flex;"><span>{{ range $name, $taxonomy := .Site.Taxonomies.categories }}
</span></span><span style="display:flex;"><span>&lt;<span style="color:#062873;font-weight:bold">li</span> <span style="color:#4070a0">class</span><span style="color:#666">=</span><span style="color:#4070a0">&#34;nav-item menu-items&#34;</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#062873;font-weight:bold">a</span> <span style="color:#4070a0">href</span><span style="color:#666">=</span><span style="color:#4070a0">&#34;/categories/{{ $name | urlize }}&#34;</span>&gt;{{ $name | humanize }} ({{ $taxonomy.Count }})&lt;/<span style="color:#062873;font-weight:bold">a</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#062873;font-weight:bold">li</span>&gt;
</span></span><span style="display:flex;"><span>{{end}}
</span></span></code></pre></div><p>위 코드를 적용한다고 몇 시간을 날렸다.. Hugo를 사용한다면 필요한 분은 참조해서 시간을 줄였으면 좋겠다.</p>
<h3 id="typora-적용하기">Typora 적용하기</h3>
<p>전에 잠시 다니던 직장에 멋진 분이 계신데.. 유료가 되어버린 Typora를 선물로 주셨다. 덕분에 사용하던 <code>Mark Text</code>와 <code>Obsidian</code> 은 내 노트북에서 사라질 예정이다.</p>
<p>문제는 Typora를 사용해도 이미지 경로가 꼬여서 노답이 되서 수동으로 옮기는 수고를 해야한다. Typora를 단순 에디터로 사용할때는 사진들을 무조건 현재 파일명에 asset을 붙여서 해당 디렉토리에 넣곤 했었다. 근데 이 방식은 hugo를 통해 markdown을 작성하는 환경에서는 경로를 저렇게 주면 static 사이트로 빌드시 경로가 깨져 이미지가 1도 안보이게 된다. 고민 고민 하다가 인터넷에서 좋은 방법을 찾았다.</p>
<p><strong>[기존]</strong></p>
<ul>
<li>
<p>이미지가 <code>/static/img</code>에 저장되게 함</p>
<blockquote>
<p>위와 같은 경우는 고정 경로는 당연히 이미지 경로가 깨짐.</p>
<p>deploy시 /img로 이미지가 이동해서 경로 다 깨짐.</p>
</blockquote>
</li>
</ul>
<p>[적용]</p>
<ul>
<li>
<p>모든 post들을 한 디렉토리에 몰고 상대 경로로 <code>../../static/img</code>에 저장되게 함</p>
<blockquote>
<p>위와 같은 경우는 /content/posts에 post들이 모여있고 모두 상대 경로를 위와 같이하면 빌드때 /img를 참조하게만 하면됨</p>
<p>빌드시 ../../static 을 지워 버리게 대체하도록 하면 됨</p>
<p>이렇게 되면 Typora에 글 쓸때 이미지를 붙여 넣어도 빌드 할때 ../../static 부분이 지워지므로 정상적으로 이미지가 보여짐</p>
</blockquote>
</li>
</ul>
<p><strong>[코드]</strong></p>
<p>빌드시에 상대 경로의 일부 스트링을 지우게 하는 코드이다. 이것도 찾는데 개고생했다&hellip;</p>
<p>해당 코드는 다음 경로에 넣어야 한다. <code>/layouts/_default/_markup/render-image.html</code></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span><span style="color:#60a0b0;font-style:italic">&lt;!--  22.03.19 --&gt;</span>
</span></span><span style="display:flex;"><span>{{ if in .Destination &#34;/static/&#34; }}
</span></span><span style="display:flex;"><span>    {{ $new_file_path := substr .Destination 12 }}
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#062873;font-weight:bold">img</span> <span style="color:#4070a0">src</span><span style="color:#666">=</span><span style="color:#4070a0">&#34;{{ $new_file_path }}&#34;</span> <span style="color:#4070a0">alt</span><span style="color:#666">=</span><span style="color:#4070a0">&#39;{{ .Text }}&#39;</span> <span style="color:#4070a0">style</span><span style="color:#666">=</span><span style="color:#4070a0">&#34;width: 100%;&#34;</span>/&gt;
</span></span><span style="display:flex;"><span>{{ else }}
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#062873;font-weight:bold">img</span> <span style="color:#4070a0">src</span><span style="color:#666">=</span><span style="color:#4070a0">&#34;{{ .Destination }}&#34;</span> <span style="color:#4070a0">alt</span><span style="color:#666">=</span><span style="color:#4070a0">&#39;{{ .Text }}&#39;</span> <span style="color:#4070a0">style</span><span style="color:#666">=</span><span style="color:#4070a0">&#34;width: 100%;&#34;</span>/&gt;
</span></span><span style="display:flex;"><span>{{ end }}
</span></span></code></pre></div><p>위 코드는 <code>/static/</code>을 포함하면, 파일 경로의 앞 부분 12글자를 날려 버리는 코드이다. 12자리 니깐 <code>../../static</code>이게 날아가는 것이다. 이제 나는 좀 더 편하게 블로그를 작성 할 수 있게됬다.</p>
<p><strong>[Typora에서의 설정]</strong></p>
<p>Typora에서는 상대경로를 아래와 같이 설정 해두면 된다.</p>
<p>그러면 현재 경로가 <code>/content/posts/xxxx.md</code>인 경우에 <code>/static/img</code>로 이미지가 모이게 된다.</p>
<p>

    
    <img src="../../images/20220320_001/image-20220321015441821.png" alt='image-20220321015441821' style="width: 100%;"/>


</p>
<h3 id="느려터진-github-io">느려터진 github io</h3>
<p>지금은 <code>github.io</code> 를 통해 호스팅되는 셈인데.. 이게 어마어마 하게 느리다. 물론 내 방에 들어오는 인터넷이 해외망이 기어다닐 정도로 느려서 그런것도 있지만 프로필의 메타몽 사진 하나 불러오는데 무려 4초나 걸린다..</p>
<p>추후에는 내가 가지고 있는 Oracle Free Tier로 블로그를 올리고.. 그래도 느려지면 Vultr에 VM 하나 얻어서 호스팅 해둬야 할 것 같다..</p>
<h3 id="git">git</h3>
<p>내 블로그는 티스토리 때와 달리 git으로 관리 중이다. 물론 commit 하나하나에 상세하게 기록하고 이 정도는 아니지만 이전 상태를 찾아 볼 수는 있을 정도이다.</p>
<p>두가지 repository로 관리를 하는데 하나는 배포용 repository, 다른 하나는 빌드 전 소스코드들의 repository로 구분 해두었다. 빌드 전 소스코드가 담긴 repo는 내 주방에 있는 서버의 gitea에서 안전하게 관리 중이다.</p>
<h3 id="현재-20220321의-블로그">현재 2022.03.21의 블로그</h3>
<p>오늘까지 작업한 블로그 치고는 나쁘지 않다. 내 나름 마음에 든다.</p>
<p>이후에는 디자인 적으로도 뭔가 좀 이쁘게 하고 싶다. 심플한걸 좋아해서 이렇게 하긴 했는데 투박해 보이기도하고&hellip;</p>
<p>

    
    <img src="../../images/20220320_001/image-20220321014818241.png" alt='image-20220321014818241' style="width: 100%;"/>


</p>


</br>
<p>&nbsp;</p>

<div id="disqus_thread"></div>
<script type="text/javascript">

(function() {
    
    
    

    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    var disqus_shortname = 'https-cybertramp-net';
    dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com/" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

                    
                    <div class="row"><div class="position-relative mx-auto col-lg-9">
                          
                        </div></div> 

                </div>

            </div> 

        </div> 
<script src="https://cybertramp.net/lib/jquery.min.js"></script> 
<script src="https://cybertramp.net/lib/popper.min.js"></script> 
<script src="https://cybertramp.net/js/bootstrap.min.js"></script> 


<script type="text/javascript" src="../../plugins/lunr.min.js"></script>
<script type="text/javascript" src="../../plugins/auto-complete.js"></script>
<link href="../../plugins/auto-complete.css" rel="stylesheet">
<script type="text/javascript">
  
      var baseurl = "https:\/\/cybertramp.net\/";
  
</script>
<script type="text/javascript" src="../../plugins/search.js"></script>


<script type="text/javascript" src="../../plugins/clipboard.js"></script>
<script>
  new ClipboardJS('.btn');
</script>

</body>
</html>
